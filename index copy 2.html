<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta http-equiv="Content-Type" content="text/html;chartset=UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous" />

  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

  <script src="https://kit.fontawesome.com/7113fe860c.js" crossorigin="anonymous"></script>

  <title>Planejamento Financeiro - Resumo Mensal</title>

</head>

<body>

  <div class="container">
    <div id="admin-actions"
      style="margin-top: 50px; padding: 20px; border-top: 1px solid var(--color-border); text-align: right;">
      <button id="reset-data-btn"
        style="background-color: var(--color-expense); color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer;">
        ‚ö†Ô∏è Limpar TODO o Banco de Dados
      </button>
    </div>
    <h1>üí∞ Painel de Controle Financeiro</h1>

    <div id="filter-controls">
      <button id="prev-month">‚Üê M√™s Anterior</button>
      <span id="current-month-display">Dezembro / 2025</span>
      <button id="next-month">Pr√≥ximo M√™s ‚Üí</button>
    </div>

    <div id="summary-container">
    </div>

    <div id="registration-accordion" style="margin-top: 25px;">

      <div id="form-toggle-header" style="
            display: flex; 
            align-items: center; 
            justify-content: space-between; 
            padding: 12px 15px; 
            background-color: var(--color-balance); 
            color: white; 
            cursor: pointer; 
            border-radius: 6px;
        ">
        <h2 style="margin: 0; color: white; border: none; padding-bottom: 0;">
          ‚ûï Registrar Nova Transa√ß√£o
        </h2>
        <span id="toggle-icon" style="font-size: 1.5em; font-weight: bold;">+</span>
      </div>

      <div id="transaction-form-content" style="
            display: none; 
            padding-top: 15px;
            border: 1px solid var(--color-border);
            border-top: none;
            border-radius: 0 0 6px 6px;
        ">
        <form id="transaction-form" style="padding: 0 15px 15px 15px;">

          <div class="input-group">
            <label for="description">Descri√ß√£o:</label>
            <input type="text" id="description" name="description" required placeholder="Ex: Mercado, Sal√°rio">
          </div>
          <div class="input-group">
            <label for="category">Categoria:</label>
            <input type="text" id="category" name="category" required placeholder="Ex: Moradia, Alimenta√ß√£o">
          </div>
          <div class="input-group">
            <label for="value">Valor (R$):</label>
            <input type="number" id="value" name="value" step="0.01" required placeholder="0.00">
          </div>

          <div class="input-group">
            <label for="date">Data:</label>
            <input type="date" id="date" name="date" required value="2025-12-01">
          </div>
          <div class="input-group">
            <label for="type">Tipo:</label>
            <select id="type" name="type" required>
              <option value="DESPESA">Despesa</option>
              <option value="RECEITA">Receita</option>
            </select>
          </div>
          <div></div>

          <div id="recurrence-field">
            <input type="checkbox" id="isRecurrent" name="isRecurrent">
            <label for="isRecurrent">
              Transa√ß√£o Recorrente (Repetir todos os meses)
            </label>
          </div>

          <button type="submit">
            Salvar Transa√ß√£o
          </button>

        </form>
        <p id="message-feedback" style="margin: 0 15px 15px 15px;"></p>
      </div>
    </div>

    <h2>üìÜ Extrato Mensal Detalhado</h2>
    <div id="transaction-list-container">
      <table id="transaction-list-table">
        <thead>
          <tr>
            <th style="width: 10%;">Data</th>
            <th style="width: 30%;">Descri√ß√£o</th>
            <th style="width: 20%;">Categoria</th>
            <th style="width: 10%;">Tipo</th>
            <th style="width: 15%; text-align: right;">Valor (R$)</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
    </div>

    <h2>Detalhes de Despesas por Categoria</h2>
    <div id="expense-breakdown-container">
      <table id="expense-breakdown-table">
        <thead>
          <tr>
            <th style="width: 70%;">Categoria</th>
            <th style="width: 30%;">Total Gasto</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
    </div>

  </div>

  <script src="/src/app.js"></script>
</body>

</html>